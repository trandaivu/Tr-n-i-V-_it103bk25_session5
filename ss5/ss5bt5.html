<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      let booksId = [];
      let booksName = [];
      let booksCategory = [];
      let inventoryQuantity = [];

      let n = +prompt("Có bao nhiêu loại sách cần nhập thông tin hôm nay? ");

      for (let i = 1; i <= n; i++) {
        let id = prompt("Nhập mã sách thứ " + i + ": ");
        while (id === "" || id === null) {
          id = prompt("Nhập mã sách thứ " + i + " (không để trống): ");
        }

        let isDuplicate = false;
        do {
          isDuplicate = false;
          for (let j = 0; j < booksId.length; j++) {
            if (booksId[j] === id) {
              isDuplicate = true;
              break;
            }
          }
          if (isDuplicate) {
            id = prompt("Mã sách bị trùng! Nhập lại mã sách thứ " + i + ": ");
          }
        } while (isDuplicate);

        let name = prompt("Nhập tên sách thứ " + i + ": ");
        while (name === "" || name === null) {
          name = prompt("Nhập tên sách thứ " + i + " (không để trống): ");
        }

        let category = prompt(
          "Nhập các thể loại của sách thứ " +
            i +
            " (các thể loại cách nhau bởi dấu phẩy): "
        );

        let qty = +prompt("Nhập số lượng tồn kho của sách thứ " + i + ": ");

        booksId.push(id);
        booksName.push(name);
        booksCategory.push(category);
        inventoryQuantity.push(qty);
      }

      let countLapTrinh = 0;
      for (let i = 0; i < booksCategory.length; i++) {
        let catLower = booksCategory[i].toLowerCase();
        if (catLower.indexOf("lập trình") !== -1 || catLower.indexOf("lap trinh") !== -1) {
          countLapTrinh++;
        }
      }
      console.log("Tổng số sách thuộc thể loại 'Lập trình': " + countLapTrinh);

      console.log("Danh sách mã sách thuộc cả hai thể loại 'JavaScript' và 'Web':");
      for (let i = 0; i < booksCategory.length; i++) {
        let catLower = booksCategory[i].toLowerCase();
        if (catLower.indexOf("javascript") !== -1 && catLower.indexOf("web") !== -1) {
          console.log(booksId[i]);
        }
      }

      let minIndex = 0;
      for (let i = 1; i < inventoryQuantity.length; i++) {
        if (inventoryQuantity[i] < inventoryQuantity[minIndex]) {
          minIndex = i;
        }
      }

      console.log("Loại sách có số lượng tồn kho thấp nhất:");
      console.log(
        "Mã sách: " +
          booksId[minIndex] +
          ", Tên sách: " +
          booksName[minIndex] +
          ", Tồn kho: " +
          inventoryQuantity[minIndex]
      );
    </script>
  </body>
</html>
